{% extends 'base.html' %}
{% block title %}User Profile{% endblock %}
{% block content %}
<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
          <h4 class="mb-0"><i class="bi bi-person-circle me-2"></i>User Profile</h4>
        </div>
        <div class="card-body">
          <div class="text-center mb-3">
            {% if profile and profile.profile_picture %}
              <img src="{{ url_for('static', filename='profile_pics/' ~ profile.profile_picture) }}" alt="Profile Picture" class="rounded-circle" style="width: 120px; height: 120px; object-fit: cover;">
            {% else %}
              <img src="{{ url_for('static', filename='profile_pics/default.png') }}" alt="Profile Picture" class="rounded-circle" style="width: 120px; height: 120px; object-fit: cover;">
            {% endif %}
          </div>
          <table class="table table-bordered">
            <tr><th>Name</th><td>{{ profile.name or 'N/A' }}</td></tr>
            <tr>
              <th>Email</th>
              <td>
                {% if user.email %}
                  <a href="mailto:{{ user.email }}" class="text-decoration-none text-primary">
                    <i class="bi bi-envelope-fill me-1"></i>{{ user.email }}
                  </a>
                {% else %}
                  N/A
                {% endif %}
              </td>
            </tr>
            <tr>
              <th>Phone</th>
              <td>
                {% if profile.phone %}
                  <a href="tel:{{ profile.phone }}" class="text-decoration-none text-success">
                    <i class="bi bi-telephone-fill me-1"></i>{{ profile.phone }}
                  </a>
                {% else %}
                  N/A
                {% endif %}
              </td>
            </tr>
            <tr><th>Address</th><td>{{ profile.address or 'N/A' }}</td></tr>
            <tr><th>Gender</th><td>{{ profile.gender or 'N/A' }}</td></tr>
            <tr><th>City</th><td>{{ profile.city or 'N/A' }}</td></tr>
          </table>
          <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary mt-3">Back to Admin Dashboard</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
